{"version":3,"sources":["node_modules/_browser-pack@6.1.0@browser-pack/_prelude.js","src/untils.ts","src/wave.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","getColor","colorHex","color","that","test","aColor","replace","split","strHex","hex","Number","toString","aNum","numHex","colorRgb","opacity","sColor","toLowerCase","sColorNew","slice","concat","sColorChange","push","parseInt","join","untils_1","Wave","container","options","this","document","querySelector","Object","assign","number","smooth","velocity","height","colors","position","lines","frame","step","status","init","prototype","canvas","createElement","width","offsetWidth","offsetHeight","appendChild","ctx","getContext","setLines","animate","_this","clearRect","forEach","index","angle","Math","PI","leftHeight","sin","rightHeight","cos","fillStyle","beginPath","moveTo","bezierCurveTo","lineTo","closePath","fill","requestAnimationFrame","pause","cancelAnimationFrame","setOptions","window","default"],"mappings":"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","file":"wave.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export function getColor(): Array<string> {\n  return ['rgba(162,237,246,.2)', 'rgba(31,166,196,.2)', 'rgba(13,71,130,.2)']\n}\n\n\nexport function colorHex(color:string):string {\n  var that = color\n  //十六进制颜色值的正则表达式\n  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/\n  // 如果是rgb颜色表示\n  if (/^(rgb|RGB)/.test(that)) {\n    var aColor = that.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\")\n    var strHex = \"#\"\n    for (var i = 0; i < aColor.length; i++) {\n      var hex = Number(aColor[i]).toString(16)\n      if (hex.length < 2) {\n        hex = '0' + hex\n      }\n      strHex += hex\n    }\n    if (strHex.length !== 7) {\n      strHex = that\n    }\n    return strHex\n  } else if (reg.test(that)) {\n    var aNum = that.replace(/#/, \"\").split(\"\")\n    if (aNum.length === 6) {\n      return that\n    } else if (aNum.length === 3) {\n      var numHex = \"#\"\n      for (var i = 0; i < aNum.length; i += 1) {\n        numHex += (aNum[i] + aNum[i])\n      }\n      return numHex\n    }\n  }\n  return that\n}\n\nexport function colorRgb(color:string,opacity:number):string {\n  var sColor = color.toLowerCase()\n  //十六进制颜色值的正则表达式\n  var reg = /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/\n  // 如果是16进制颜色\n  if (sColor && reg.test(sColor)) {\n    if (sColor.length === 4) {\n      var sColorNew = \"#\"\n      for (var i = 1; i < 4; i += 1) {\n        sColorNew += sColor.slice(i, i + 1).concat(sColor.slice(i, i + 1))\n      }\n      sColor = sColorNew\n    }\n    //处理六位的颜色值\n    var sColorChange = []\n    for (var i = 1; i < 7; i += 2) {\n      sColorChange.push(parseInt(\"0x\" + sColor.slice(i, i + 2)))\n    }\n    return `rgba(${sColorChange.join(\",\")},${opacity})`\n  }\n  return sColor\n}\n","import {Core, Options} from \"./interface\";\nimport {getColor, colorHex, colorRgb} from \"./untils\"\n\nclass Wave implements Core {\n  container: HTMLElement\n  canvas: HTMLCanvasElement\n  ctx: CanvasRenderingContext2D\n  options: Options\n  lines: Array<string>\n  step: number\n  frame: number | null\n  status:'animating'|'pause'\n\n  constructor(container: string, options?: Options) {\n    const originOption = {\n      number: 3,\n      smooth: 70,\n      velocity: 1,\n      height: .5,\n      colors:['#ff7657'],\n      opacity: .5,\n      position: 'bottom',\n    }\n\n    this.container = document.querySelector(container)\n    this.options = Object.assign(originOption, options)\n    this.lines = []\n    this.frame = null\n    this.step = 0\n    this.status = 'pause'\n\n    this.init()\n  }\n\n  init() {\n    if (this.container.querySelector('canvas') === null) {\n      const canvas = document.createElement('canvas')\n      canvas.width = this.container.offsetWidth\n      canvas.height = this.container.offsetHeight\n      this.container.appendChild(canvas)\n    }\n\n    this.canvas = this.container.querySelector('canvas')\n    this.ctx = this.canvas.getContext('2d')\n\n    this.setLines()\n  }\n\n  animate() {\n    this.status = 'animating'\n    const canvas = this.canvas\n    const ctx = this.ctx\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.step += this.options.velocity\n\n    this.lines.forEach((color, index) => {\n      const angle = (this.step + index * 180 / this.lines.length) * Math.PI / 180\n      const leftHeight = Math.sin(angle) * this.options.smooth\n      const rightHeight = Math.cos(angle) * this.options.smooth\n\n      ctx.fillStyle = color\n      ctx.beginPath()\n      ctx.moveTo(0, canvas.height * this.options.height + leftHeight)\n      ctx.bezierCurveTo(canvas.width / 2,\n        canvas.height * this.options.height + leftHeight - this.options.smooth,\n        canvas.width / 2,\n        canvas.height * this.options.height + rightHeight - this.options.smooth,\n        canvas.width,\n        canvas.height * this.options.height + rightHeight)\n\n      ctx.lineTo(canvas.width, canvas.height)\n      ctx.lineTo(0, canvas.height)\n      ctx.lineTo(0, canvas.height * this.options.height + leftHeight)\n      ctx.closePath()\n      ctx.fill()\n    })\n\n    var that = this;\n    this.frame = requestAnimationFrame(function () {\n      that.animate()\n    })\n\n  }\n\n  pause() {\n    cancelAnimationFrame(this.frame)\n    this.frame = null\n    this.status = 'pause'\n  }\n\n  setOptions() {\n\n    this.setLines()\n  }\n\n  setLines() {\n    for (let i = 0; i < this.options.number; i++) {\n      const color = colorRgb(colorHex(this.options.colors[i % this.options.colors.length]), this.options.opacity)\n      this.lines.push(color)\n    }\n  }\n}\n\n(<any>window).Wave = Wave\n\nexport default Wave\n"]}